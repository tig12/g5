<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>G5 Person | Open Gauquelin database</title>
    <link rel="icon" type="image/png" href="img/g5.png">
    <link href="static/gauquelin5.css" rel="stylesheet" type="text/css">
    <meta name="description" content="">
    <meta name="robots" content="index,follow">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.rights" content="Creative commons by-sa 4.0">
    <meta name="dcterms.rightsHolder" content="Thierry Graff">
    <meta name="dcterms.dateCopyrighted" content="2019">
    <!-- 
    tigsite:
        history: 2021-09-16 21:28:10+02:00, Thierry Graff : Creation
    -->
</head>

<body>
<div class="container">

<div class="content">

<a name="topage"></a>
<nav class="prevnext">
    <a class="topage" rel="" href="#topage">&#10148;</a>
    <a class="top" href="index.html">&uarr;</a>
    <a class="prev" rel="prev" href="db.html">&larr;</a>
    <a class="next" rel="next" href="db-group.html">&rarr;</a>
</nav>

<main>
<header>
<h1>G5 Person</h1>
<div class="intro">
This page describes how the notion of person is handled in g5 database.
<br>The structure of a person is given by <a href="https://github.com/tig12/gauquelin5/blob/main/src/model/Person.yml"><code>src/model/Person.yml</code></a>
</div>
</header>

<article>
<nav class="toc">
    <ul>
        <li>
            <a href="#person-ids">Person ids</a>
            <ul>
                <li><a href="#1-1-unique-ids">Unique ids</a></li>
                <li><a href="#1-2-ids-in-sources">Ids in sources</a></li>
                <li><a href="#1-3-partial-ids">Partial ids</a></li>
            </ul>
        </li>
        <li>
            <a href="#history">History</a>
        </li>
        <li>
            <a href="#links-with-other-entities">Links with other entities</a>
        </li>
        <li>
            <a href="#person-name">Person name</a>
        </li>
        <li>
            <a href="#birth-and-death-dates">Birth and death dates</a>
        </li>
    </ul>
</nav>

Table definition is in <a href="https://github.com/tig12/gauquelin5/tree/main/src/model/db-create">src/model/db-create</a>

<pre>
create table person (
    id              serial primary key,
    slug            varchar(255) unique not null,
    ids_in_sources  jsonb not null,
    partial_ids     jsonb not null,
    name            jsonb not null,
    sex             char(1),
    birth           jsonb not null,
    death           jsonb not null,
    occus           jsonb not null,
    trust           char(1),
    acts            jsonb not null,
    history         jsonb not null,
    notes           jsonb not null
);
</pre>

<!-- ********************************************************************************* -->
<h2 id="person-ids">Person ids</h2>

<!-- ************************************* -->
<h3 id="1-1-unique-ids">Unique ids</h3>

Every person of the database has 2 unique ids:
<ul class="spaced margin-top">
    <li>
        Person slug, its g5 unique id (see definition in page <a href="db.html#g5-unique-id">G5 database</a>).
        <br>These can be read by humans and are used to build the public URL of a person in <a href="https://opengauquelin.org">opengauquelin.org</a>.
    </li>
    <li>
        Id generated by the database (<code>serial</code> in postgresql, equivalent of <code>autoincrement</code> in mysql).
        <br>These are used to associate person to groups.
    </li>
</ul>

<!-- ************************************* -->
<h3 id="1-2-ids-in-sources">Ids in sources</h3>

Field <code>ids_in_sources</code> is a jsonb key value map giving the local ids of a person within its information sources.
<br>As a person is ALWAYS related to at least one information source, this field is never empty.

<br><br>For example, Georges Dumas is present in files A1, A6 and Müller's 1083 physicians:
<pre>select ids_in_sources from person where slug='dumas-georges-1866-03-06';</pre>
<pre>{"a2": "241", "a6": "282", "afd5": "325"}</pre>

<!-- ************************************* -->
<h3 id="1-3-partial-ids">Partial ids</h3>

While field <code>ids_in_sources</code> represents the local ids of a person within precise information sources, the notion of partial ids permit to identify the person within several meaningful contexts. These "meaningful contexts" are information sources of higher level (parent sources of precise sources).
<br>One person can be associated to one or more partial ids.
<br>A given partial id concerns a subset of the database.


<br><br>The following partial ids are defined in g5 database :

<table class="wikitable margin">
    <thead><th>Source slug</th><th>Definition</th><th>Example</th></thead>
    <tr><td>lerrcp</td><td><a href="gauquelin.html#gauquelin-unique-id">Gauquelin unique id</a></td><td>A3-543</td></tr>
    <tr><td>muller</td><td><a href="muller.html">Müller unique id</a></td><td>M2-163</td></tr>
    <tr><td>ertel</td><td><a href="ertel.html">Ertel unique id</a></td><td>ES-3548</td></tr>
    <tr><td>cpara</td><td><a href="comite-para.html">Comité Para unique id</a></td><td>CP-245</td></tr>
    <tr><td>csicop</td><td><a href="csicop.html#csicop-unique-id">CSICOP unique id</a></td><td>CS-504</td></tr>
    <tr><td>cfepp</td><td><a href="cfepp.html">CFEPP unique id</a></td><td>CF-546</td></tr>
    <tr><td>wd</td><td><a href="wikidata.html">Wikidata unique id</a></td><td>Q161247</td></tr>
</table>

<pre>select ids_partial from person where slug='dumas-georges-1866-03-06';</pre>
<pre>{"lerrcp": "A2-241", "muller": "M5-325"}</pre>


<!-- ********************************************************************************* -->
<h2 id="history">History</h2>
This field permits to keep a trace of the transformations done on a person.
<br>Each history entry contains the raw data used to modify the person, and the values that were retained to modify the peron.
<br>This is useful to identify the errors in the original files, and is used for debug and verification puropse.


<!-- ********************************************************************************* -->
<h2 id="links-with-other-entities">Links with other entities</h2>
<div class="todo">TODO</div>

<!-- ********************************************************************************* -->
<h2 id="person-name">Person name</h2>

<pre>
name:
  given:
  family:
  official:
    family:
    given:
  nobl:
  fame:
    full:
    family:
    given:
  alter: []
</pre>

The different components of a person's name permits a precise description.
<ul class="spaced">
    <li>
        <b><code>name.given</code></b> and <b><code>name.family</code></b> represent the name commonly used to designate a person.
        <br>If these fields are empty, the common name is taken from <code>name.fame</code>.
        <br>If <code>name.fame</code> is empty, the common name is taken from <code>name.official</code>.
    </li>
    <li>
        <code><b>name.official</b></code> represent the <i>exact</i> spelling of the name, as written in the birth certificate.
    </li>
    <li>
        <code><b>name.nobl</b></code> : nobiliary-particle: de d' di del von...
    </li>
    <li>
        <code><b>name.fame</b></code>: stage or scene name.
        <br>Can be full (ex: "Mistinguett" or "Stromae") or composed, like "Edith" (name.fame.given) "Piaf" (name.fame.family).
    </li>
    <li>
        <code><b>name.alter</b></code>: Array of alternative names. For example Boris Vian (a french writer) wrote a book using the name of Vernon Sullivan.
    </li>
</ul>

<!-- ********************************************************************************* -->
<h2 id="birth-and-death-dates">Birth and death dates</h2>
<div class="todo">TODO</div>

</article>
</main>
</div><!-- end class="content" -->

<!-- ************************************* -->
<aside class="left">
<nav>
<ul>
    <li class="bold big1"><a href="index.html">Home</a></li>
    <li class="bold big1"><a href="https://github.com/tig12/gauquelin5">Code repository</a></li>
    <li class="bold big1"><a href="https://opengauquelin.org/downloads">Download results</a></li>
    
    <li><a href="organisation.html">Organisation</a></li>
    <li><a href="install.html">Installation</a></li>
    <li><a href="usage.html">Usage</a></li>
    <li>
        <a href="db.html">G5 database</a>
        <div class="padding-left2">
        <a href="db-person.html">Person</a>
        <a href="db-group.html">Group</a>
        <br>
        <a href="db-source.html">Source</a>
        <a href="db-occu.html">Occupation</a>
        </div>
    </li>
    
    <li>
        <span class="big1">1 - Restore</span>                            
        <ul>
        
            <li><a href="historical-tests.html"><b>List of historical tests</b></a></li>
            
            <li><a href="sources.html">Information sources</a></li>
            
            <li>
                <div class="bold"><a href="gauquelin.html">Gauquelin</a></div>
                <ul>
                    <li>
                        <a href="gauquelin-A.html">A</a>
                        <a href="gauquelin-D6.html">D6</a>
                        <a href="gauquelin-D10.html">D10</a>
                        <a href="gauquelin-E1-E3.html">E1 E3</a>
                    </li>
                    <li>
                        <a href="g55.html">Gauquelin 1955</a>
                        <ul>
                            <li><a href="g55-curadiff.html">Differences G55 - LERRCP</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            
            <li>
                <div class="bold"><a href="muller.html">Arno Müller</a></div>
                <ul>
                    <li><a href="muller1-402-writers.html">1991 - 402 writers</a></li>
                    <li><a href="muller2-612-men.html">1992 - 612 men</a></li>
                    <li><a href="muller3-234-women.html">1993 - 234 women</a></li>
                    <li><a href="muller4-1145-dynasties.html">1993 - 1145 dynasties</a></li>
                    <li><a href="muller5-1083-medics.html">1994 - 1083 physicians</a></li>
                </ul>
            </li>
            
            <li>
                <div class="bold"><a href="ertel.html">Suitbert Ertel</a></div>
                <ul>
                    <li><a href="ertel-4391-sport.html">1988 - 4391 athletes</a></li>
                </ul>
            </li>
            
            <li>
                <div class="bold">Skeptics</div>
                <ul>
                    <li><a href="comite-para.html">1976 - Comité Para</a></li>
                    <li><a href="csicop.html">1979 - CSICOP</a></li>
                    <li><a href="cfepp.html">1996 - CFEPP</a></li>
                </ul>
            </li>
            
        </ul>
    </li>
    
    <li>
        <span class="big1">2 - Build new data</span>
        <ul>
            <li><a href="check.html">Check</a></li>
            <li><a href="acts.html">Acts</a></li>
            <li><a href="wikidata.html">Wikidata.org</a></li>
            <li>
                <a href="geonames.html">Geonames.org</a>
                <ul>
                    <li><a href="geonames-codes.html">C1 and C2 codes</a></li>
                </ul>
            </li>
        </ul>
    </li>
        
    <li>
        <span class="big1">3 - Eminence</span>
        <ul>
            <li><a href="eminence.html">Eminence ranking</a></li>
            <li><a href="eminence-math.html">Mathematicians</a></li>
        </ul>
    </li>
    
    <li>
        <span class="big1">Details</span>
        <ul>
            <li><a href="time.html">Time and timezone</a></li>
            <li><a href="code-details.html">Code details</a></li>
        </ul>
    </li>
    
</ul>
</nav>
</aside>

</div><!-- end class="container" -->

</body>
</html>
