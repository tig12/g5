<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title> | tig12.net</title>
    <link href="static/style.css" rel="stylesheet" type="text/css">
    <meta name="description" content="Provide a better version of Gauquelin data, restore original groups used in historical tests">
    <meta name="robots" content="index,follow">
    <meta name="description" content="">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.rights" content="Creative commons by-sa 4.0">
    <meta name="dcterms.rightsHolder" content="Thierry Graff">
    <meta name="dcterms.dateCopyrighted" content="2018">
</head>

<body>

<nav class="prevnext">
    <a class="top" title="" href="../">&uarr;</a>
</nav>

<header>
<h1>Gauquelin5</h1>
</header>

<article>

<!-- ********************************************************************************* -->
<h2>Usage</h2>

<ul>
    <li>
        Copy the html pages containing the data on your local machine (you can use for example script <code>tools/get-data</code>).
    </li>
    <li>
        Copy <code>config.yml.dist</code> to <code>config.yml</code> and adapt the values of <code>source-dir</code> and <code>ouptut-dir</code>.
    </li>
    <li>
        In a shell console, go to the root directory of the program (containing the file <code>run-gauquelin5.php</code>).
        <br>General syntax is :
        <pre>php run-gauquelin5.php &lt;serie> &lt;action></pre>
        If you run :
        <pre>php run-gauquelin5.php</pre>
        it displays a message with possible values for <code>&lt;serie</code>.
        <br>
        <br>If you run :
        <pre>php run-gauquelin5.php A1</pre>
        it displays a message with possible actions for serie A1.
    </li>
</ul>


<!-- ********************************************************************************* -->
<h2>Convert html to csv and apply corrections</h2>

Run for example :
<pre>php run-gauquelin5.php A1 raw2exported</pre>
it extracts the data from A1 html file, applies the corrections and generates a csv file.
<br>Precise corrections depend on the serie ; <a href="precise-corrections.html">see the detailed list of corrections</a> 


<!-- ********************************************************************************* -->
<h2>Restore original groups used by Gauquelin in 1955</h2>

The reconstitution of the original groups is a more complex process, because it involves human checks. This has been entirely done for one group (570 sportifs).
<br><a href="restore-1955.html">See page "Restoring 1955 groups"</a> for more details.

<!-- ********************************************************************************* -->
<h2>Matching geonames.org</h2>

In some files (like E1 and E3), timezone information is missing. The program tries to associate the names of cities to places of geonames, to compute timezone. To do this, the program needs to have geonames data stored in a postgres database, as done by the program located at <a href="https://github.com/tig12/geonames2postgres">github.com/tig12/geonames2postgres</a>.  

To do this, you need to have postgres installed on your machine, run <code>geonames2postgres.py</code> for all the countries containing birth dates.  
By default, this feature is disabled ; to enable it, edit <code>config.yml</code>, and put :
<pre>geonames: true</pre>
You also need to put the correct values in the <code>postgresql</code> section.


<!-- ********************************************************************************* -->
<h2>Notes on the generated csv files</h2>

In all generated csv files, the first line contains field names ; other lines contain data.

The following fields are common to several series :

<table class="wikitable margin">
    <tr>
        <th>Field name</th>
        <th>Comments</th>
    </tr>
    <tr>
        <td style="vertical-align:top;">NUM</td>
        <td style="vertical-align:top;">
            Original NUM record number coming from cura.free.fr
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">NAME</td>
        <td style="vertical-align:top;">
            Person name when available
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">PRO</td>
        <td style="vertical-align:top;">
            Profession code, see list below
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">DATE</td>
        <td style="vertical-align:top;">
            ISO 8601 of this form : YYYY-MM-DD HH:MM:SSsHH:MM (timezone offset is included)
            <br/>Example : <code>2017-05-03 09:26:11+02:00</code> : timezone is +2 hours
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">PLACE</td>
        <td style="vertical-align:top;">
            Place name
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">COU</td>
        <td style="vertical-align:top;">
            ISO 3166 country code, 2 letters format
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">COD</td>
        <td style="vertical-align:top;">
            Administrative division (département in France ; equivalent of ADM2 in geonames.org)
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">LON</td>
        <td style="vertical-align:top;">
            Longitude in decimal degrees
        </td>
    </tr>
    <tr>
        <td style="vertical-align:top;">LAT</td>
        <td style="vertical-align:top;">
            Latitude in decimal degrees
        </td>
    </tr>
</table>

<h3>Profession codes</h3>

Here is a complete list of profession codes that is used in all generated files

<table class="wikitable margin">
    <tr><th>Code</th><th>Label (fr)</th><th>Label (en)</th></tr>
    <tr><td>ACT</td><td>Acteur</td><td>Actor</td></tr>
    <tr><td>AR</td><td>Artiste</td><td>Artist</td></tr>
    <tr><td>ATH</td><td>Athlétisme</td><td>Athletism</td></tr>
    <tr><td>AUT</td><td>Auto-moto</td><td>Auto-moto</td></tr>
    <tr><td>AVI</td><td>Aviation</td><td>Aviation</td></tr>
    <tr><td>AVR</td><td>Aviron</td><td>Rowing</td></tr>
    <tr><td>BAS</td><td>Basketball</td><td>Basketball</td></tr>
    <tr><td>BIL</td><td>Billard</td><td>Billard</td></tr>
    <tr><td>BOX</td><td>Boxe</td><td>Boxing</td></tr>
    <tr><td>CAN</td><td>Canoë-kayak</td><td>Canoe-kayak</td></tr>
    <tr><td>CAR</td><td>Réalisateur de dessins animés</td><td>Cartoonist</td></tr>
    <tr><td>CMB</td><td>Chef d'orchestre militaire</td><td>Conductor of military band</td></tr>
    <tr><td>CYC</td><td>Cyclisme</td><td>Cyclism</td></tr>
    <tr><td>DAN</td><td>Danseur</td><td>Dancer</td></tr>
    <tr><td>EQU</td><td>Equitation</td><td>Equestrian</td></tr>
    <tr><td>ESC</td><td>Escrime</td><td>Fencing</td></tr>
    <tr><td>EX</td><td>Dirigeant</td><td>Executive</td></tr>
    <tr><td>FOO</td><td>Football</td><td>Football</td></tr>
    <tr><td>GLA</td><td>Sports de glace</td><td>Bobsleigh and Skating</td></tr>
    <tr><td>GOL</td><td>Golf</td><td>Golf</td></tr>
    <tr><td>GYM</td><td>Gymnastique</td><td>Gymnastic</td></tr>
    <tr><td>HAL</td><td>Haltérophilie</td><td>Weightlifting</td></tr>
    <tr><td>HAN</td><td>Handball</td><td>Handball</td></tr>
    <tr><td>HOC</td><td>Hockey</td><td>Hockey</td></tr>
    <tr><td>JO</td><td>Journaliste</td><td>Journalist</td></tr>
    <tr><td>LUT</td><td>Lutte</td><td>Wrestling</td></tr>
    <tr><td>MAR</td><td>Marche</td><td>Walking</td></tr>
    <tr><td>MI</td><td>Militaire</td><td>Military</td></tr>
    <tr><td>MUS</td><td>Musicien</td><td>Musician</td></tr>
    <tr><td>NAT</td><td>Natation</td><td>Swimming</td></tr>
    <tr><td>OPE</td><td>Chanteur d'opéra</td><td>Opera singer</td></tr>
    <tr><td>PAI</td><td>Peintre</td><td>Painter</td></tr>
    <tr><td>PAT</td><td>Patin à roulettes</td><td>Roller Skates</td></tr>
    <tr><td>PEL</td><td>Pelote basque</td><td>Pelote basque</td></tr>
    <tr><td>PH</td><td>Médecin</td><td>Physician</td></tr>
    <tr><td>PHO</td><td>Photographe</td><td>Photographer</td></tr>
    <tr><td>PO</td><td>Politicien</td><td>Politician</td></tr>
    <tr><td>RUG</td><td>Rugby et Jeu à XIII</td><td>Rugby and Rugby league</td></tr>
    <tr><td>SC</td><td>Scientifique</td><td>Scientist</td></tr>
    <tr><td>SKI</td><td>Ski</td><td>Ski</td></tr>
    <tr><td>SP</td><td>Sportif</td><td>Sport champion</td></tr>
    <tr><td>TEN</td><td>Tennis</td><td>Tennis</td></tr>
    <tr><td>TIR</td><td>Tir</td><td>Shooting</td></tr>
    <tr><td>VOI</td><td>Voile</td><td>Sailing</td></tr>
    <tr><td>VOL</td><td>Volley ball</td><td>Volley ball</td></tr>
    <tr><td>WR</td><td>Ecrivain</td><td>Writer</td></tr>
    <tr><td>XX</td><td>Divers</td><td>Various</td></tr>
</table>


</article>

</body>
</html>
<!-- ************************************* -->
<!-- ********************************************************************************* -->

