<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gauquelin5 program</title>
    <link href="static/style.css" rel="stylesheet" type="text/css">
    <link href="static/gauquelin5.css" rel="stylesheet" type="text/css">
    <meta name="description" content="Provide a better version of Gauquelin data, restore original groups used in historical tests">
    <meta name="robots" content="index,follow">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.rights" content="Creative commons by-sa 4.0">
    <meta name="dcterms.rightsHolder" content="Thierry Graff">
    <meta name="dcterms.dateCopyrighted" content="2018">
</head>

<body>

<nav class="prevnext">
    <a class="top" title="" href="..">&uarr;</a>
</nav>


<div class="flex-wrap">

<div class="aside-wrapper"><aside>
    <ul>
        <li class="padding-bottom bold"><a href="index.html">Gauquelin5 home</a></li>
        <li><a href="gauquelin-data.html">Gauquelin data</a></li>
        <li><a href="output-format.html">Output format</a></li>
        <li><a href="precise-corrections.html">Precise corrections</a></li>
        <li><a href="restore-1955.html">Restore 1955 groups</a></li>
        <li><a href="geonames.html">Geonames.org</a></li>
        <li><a href="profession-codes.html">Profession codes</a></li>
        <li><a href="download.html">Download results</a></li>
        <li><a href="questions.html">Questions</a></li>
        <li class="padding-top bold"><a href="https://github.com/tig12/gauquelin5">Github repo</a></li>
    </ul>
</aside></div>


<div class="content">

<header>
<h1>Gauquelin5</h1>
</header>


<article>

<div class="intro">
The primary purpose of this program is to restore the original groups used by Michel Gauquelin in 1955 to perform statistical tests on astrology.
<br>But this leads to write code that can also be used to generate a corrected version of cura.free.fr data.
</div>

<!-- ********************************************************************************* -->
<h2>Usage</h2>

<ul>
    <li>
        Copy the html pages containing the data on your local machine (you can use for example script <code>tools/get-data</code>).
    </li>
    <li>
        Copy <code>config.yml.dist</code> to <code>config.yml</code> and adapt the values of <code>source-dir</code> and <code>ouptut-dir</code>.
    </li>
    <li>
        In a shell console, go to the root directory of the program (containing the file <code>run-gauquelin5.php</code>).
        <br>General syntax is :
        <pre>php run-gauquelin5.php &lt;serie> &lt;action></pre>
        If you run :
        <pre>php run-gauquelin5.php</pre>
        it displays a message with possible values for <code>&lt;serie></code>.
        <br>
        <br>If you run :
        <pre>php run-gauquelin5.php A1</pre>
        it displays a message with possible actions for serie A1.
    </li>
</ul>


<!-- ********************************************************************************* -->
<h2>Apply corrections and convert html to csv</h2>

Run for example :
<pre>php run-gauquelin5.php A1 raw2exported</pre>
it extracts the data from A1 html file, applies the corrections and generates a csv file.
<br>Precise corrections depend on the serie ; see :
<br>- <a href="precise-corrections.html">Detailed list of corrections</a> 
<br>- <a href="output-format.html">Output format</a>

<!-- ********************************************************************************* -->
<h2>Restore original groups used by Gauquelin in 1955</h2>

The reconstitution of the original groups is a more complex process, because it involves human checks. This has been entirely done for one group (570 sportifs).
<br><a href="restore-1955.html">See page "Restoring 1955 groups"</a> for more details.

<!-- ********************************************************************************* -->
<h2>Matching geonames.org</h2>

 To do this, the program needs to have geonames data stored in a postgres database, as done by the program located at <a href="https://github.com/tig12/geonames2postgres">github.com/tig12/geonames2postgres</a>.  

To do this, you need to :
<ul>
    <li>
        have postgres installed on your machine,
    </li>
    <li>
        in <code>config.yml</code>, put the correct values in the <code>postgresql</code> section,
    </li>
    <li>
        in <code>config.yml</code>, enable this feature ; replace <code>false</code> by <code>true</code> in order to have :
        <pre>geonames: true</pre>
    </li>
    <li>
        run <code>geonames2postgres.py</code> for all the countries containing birth dates.
        <br>For Gauquelin data needs :
        <pre>
# todo : exhaustive list of countries
python import_geonames.py BE
python import_geonames.py DE
python import_geonames.py DZ
python import_geonames.py FR
python import_geonames.py IT
python import_geonames.py MC
python import_geonames.py NL
python import_geonames.py US
        </pre>
    </li>
</ul>

</article>

</div><!-- end class="content" -->
</div><!-- end class="flex-wrap" -->

</body>
</html>
<!-- ************************************* -->
<!-- ********************************************************************************* -->

