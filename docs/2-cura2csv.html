<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Cura to CSV | Gauquelin5</title>
    <link href="static/gauquelin5.css" rel="stylesheet" type="text/css">
    <meta name="description" content="Convert cura.free.fr data to csv files">
    <meta name="robots" content="index,follow">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.rights" content="Creative commons by-sa 4.0">
    <meta name="dcterms.rightsHolder" content="Thierry Graff">
    <meta name="dcterms.dateCopyrighted" content="2019">
    <!-- 
    tigsite:
        history: 2019-04-02 03:53:45+02:00, Thierry Graff : Creation
    -->
</head>

<body>
<div class="container">

<div class="main">

<nav class="prevnext">
    <a class="top" href="index.html">&uarr;</a>
    <a class="prev" rel="prev" href="1-cura-data.html">&larr;</a>
    <a class="next" rel="next" href="2-serieA.html">&rarr;</a>
</nav>

<header>
<h1>Cura to CSV</h1>
<div class="intro">
This step extracts data from html files and produces csv files.
<br>Some corrections are applied to the data during the process. 
</div>
</header>

<article>

This step uses two entries of <code>config.yml</code> :
<br>- It takes html pages located in a directory specified by entry <code>1-cura-raw</code> 
<br>- It produces csv files located in a directory specified by entry <code>2-cura-exported</code>
<br>
<br>Some corrections are common to all series : 
<ul class="spaced margin-top">
    <li>
        Country codes are converted to ISO 3166.
    </li>
    <li>
        Dates and times are merged to be stored in ISO 8601 format <code>YYYY-MM-DD HH:MM:SSsHH:MM</code>.
        <br>For example <code>1906-02-06 14:00:00-01:00</code> ; the string <code>-01:00</code> represents the timezone offset.
        <br>Important : this step does not try to restore legal time and timezone. It just copies the information present on cura files.
    </li>
    <li>
        Longitudes and latitudes are expressed in decimal degrees.
    </li>
</ul>


<!-- ********************************************************************************* -->
<h2>Serie A</h2>
See <a href="2-serieA.html">this page</a>.


<!-- ********************************************************************************* -->
<h2>Serie D10</h2>
The code that performs this step is located in <code>src/SerieD10.php</code>
<br>
<br>To convert file D10, run :
<pre>php run-gauquelin5.php D10 raw2exported</pre>

<!-- ************************************* -->
<h3>Names</h3>

For this file, it was possible to split family names and given names

<!-- ************************************* -->
<h3>Particular cases</h3>
There is one record without birth time that was excluded from the resulting file :
<pre>1098!	Rose Peter		SP	14	4	1941	-----	5h	39N6	84W31	Cincinnati, OH</pre>

Two lines miss longitude and latitude :
<pre>
493	Good Robert		AC	21	5	1922	06:00	6h			Grosby, MN
658	Jeter Robert		SP	9	5	1937	08:00	5h			Union, SC
</pre>
13 lines had to be fixed because of bad formatting (contain white spaces instead of tabs) :
<pre>
112	Blanton Leonard		PO	10	4	1930	21:30	6h	35N11   88W10	Hardin County, TN	
192	Caldwell Philip		EX	27	1	1920	08:00	5h	39N16   83W09	Bourneville, OH	
409	Faver Dudley		MI	17	8	1916	15:00	6h	32N28   100W24	Sweatwater, TX	
568	Hayes Elvin		SP	11	11	1945	22:00	6h	32N28   91W45	Rayville, LA	
817!	Malden Karl		AC	22	3	1912	17:00	6h	41N35   87W20	Gary, IN
935	Murphy William		EX	17	6	1907	10:00	6h	44N15   88W24   Appleton, WI		
945	Neal Patricia		AC	20	1	1926	04:30	6h	36N40   84W03	Packard, KY	
1033	Pitts William		MI	27	11	1919	06:00	8h	33N54   117W15  March Field, CA		
1058	Ramsey Lloyd		MI	29	5	1918	07:00	5h	37N05   84W36   Somerset, KY		
1066!	Reeves Steve		AC	21	1	1926	08:00	7h	48N11   106W38  Glasgow, MT
1158	Shaffer Raymond		EX	6	4	1912	22:30	6h	37N59   94W49   Harding, KS		
1218	Staiger John		EX	20	3	1910	19:00	6h	44N43   88W09   Chase, WI		
1250	Sweeney Walter		SP	18	4	1941	09:20	5h	42N14   70W48   Cohasset, MA		
</pre>

These 15 particular cases were fixed in the code, and included in the resulting file.

</article>
</div><!-- end class="main" -->


<!-- ********************************************************************************* -->
<h2>Series E1 E3</h2>
The code that performs this step is located in <code>src/SerieE1E3.php</code>
<br>
<br>To perform the transformations, run :
<pre>
php run-gauquelin5.php E1 raw2exported
php run-gauquelin5.php E3 raw2exported
</pre>

These two files share the same format and can be handled by the same code.


<!-- ************************************* -->
<aside class="left">
<ul>
    <li class="bold"><a href="index.html">Gauquelin5 home</a></li>
    <li><a href="why.html">Why ?</a></li>
    <li class="bold"><a href="summary-chart.html">Summary chart</a></li>
    <li class="bold"><a href="output-format.html">Output format</a></li>
    <li><a href="0-from-scratch.html">0 - From scratch</a></li>
    <li>
        <a href="1-cura-data.html">1 - Cura data</a>
    </li>
    <li>
        <a href="2-cura2csv.html">2 - Cura to csv</a>
        <div class="padding-left">
            <a href="2-serieA.html">A</a>
            <a href="2-cura2csv.html#serie-d10">D10</a>
            <a href="2-cura2csv.html#serie-e1-e3">E1 E3</a>
        </div>
    </li>
    <li>
        <a href="3-mark.html">3 - Mark data</a>
    </li>
    <li>
        <a href="4-corrections-g55.html">4 - Corrections from G1955</a>
    </li>
    <li>
        9 - Results
        <ul>
            <li><a href="9-gauquelin-orig.html">G 1955 original</a></li>
            <li><a href="9-gauquelin-corr.html">G 1955 corrected</a></li>
            <li>
                <a href="9-cura-corr.html">Cura corrected</a>
                <div class="padding-left">
                    <a href="9-cura-corr.html#serie-a">A</a>
                    <a href="9-cura-corr.html#serie-d10">D10</a>
                    <a href="9-cura-corr.html#serie-e1-e3">E1 E3</a>
                </div>
            </li>
        </ul>
    </li>
    <li><a href="geonames.html">Geonames.org</a></li>
    <li><a href="questions.html">Questions</a></li>
    <li class="bold"><a href="download.html">Download results</a></li>
    <li class="bold"><a href="https://github.com/tig12/gauquelin5">Github repo</a></li>
</ul>
</aside>

</div><!-- end class="container" -->

</body>
</html>
<!-- ************************************* -->
<!-- ********************************************************************************* -->
