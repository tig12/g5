<h1>Detailed steps</h1>

<article>
    <header>
        This page details the actions that permit to reconstruct original Gauquelin groups from data retrieved at http://cura.free.fr.
        <br>The process is documented using the reconstitution of the group "570 sportifs" published in 1955 as an example.
    </header>


<br>The following diagram illustrates this process :

<img style="display:block; margin:1em;" src="serie-A1-sequence.svg" alt="" />
    
<br>Absolute path to directories containing data (<code>1-cura-raw/</code> etc.) must be configured in <code>config.yml</code>.

<style>
.steps>li{margin-bottom:1em;}
</style>

<ol class="steps">
    <li>
        <b>Store cura.free.fr data on a local machine</b> (by program).
        <br>This can be done using the script <code>tools/get-data</code>.
        <br>These data are stored somewhere on a local disk in a directory called <code>1-cura-raw/</code>.
    </li>
                                                                                                                                                
    <li>
        <b>Extract data from html pages to generate csv files</b> (by program).
        <br>This is done with the command <code>php run-gauquelin5.php A1 raw2exported</code>.
        <br>The code used to perform this step is not trivial, because 2 lists must be merged from cura.free.fr data :
        <br>- One list contains the data with complete information (birth date, hour, place, country, profession) WITHOUT names.
        <br>- One list contains the names and only birth date.
        <br>So the merge process leads to cases that are not solvable by program, and human corrections (using Gauquelin original 1955 book) were necessary to write this code.
        <br>These data are stored in a directory called <code>2-cura-exported/</code> ; for serie A1, the file is <code>2-cura-exported/A1.csv</code>.
        <br>Other corrections are done during this step :
        <ul>
            <li>Convert country codes to ISO 3166.</li>
            <li>Restore detailed professions (this information is in Gauquelin book but not in cura data).</li>
        </ul>
    </li>
    
    <li>
        <b>Edit the csv files to associate cura data to Gauquelin 1955 original groups</b> (by human).
        <br>File <code>2-cura-exported/A1.csv</code> is copied by a human to <code>3-cura-modified/A1.csv</code>.
        <br>A new column ("1955") is added to this file ; this column is filled by a human with a code identifying Gauquelin 1955 groups.
        <br>Lines coming from the group "570 sportifs" were marked "570SPO".
    </li>
    
    <li>
        <b>Generate one file per original 1955 group</b> (by program).
        <br>Column "1955" of csv files located in <code>3-cura-modified/</code> is used to generate on file per 1955 group.
        <br>These files are generated in <code>4-1955-generated/</code> using the command <code>php run-gauquelin5 1955 modified21955</code>
        <br>This generates for example <code>4-1955-generated/570SPO.csv</code>
    </li>
    
    <li>
        <b>Copy these files to directory <code>5-1955-modified/</code></b> (by human).
    </li>
    
    <li>
        <b>Correct the files located in <code>5-1955-modified/</code> using Gauquelin 1955 book</b> (by human).
        <br>Files in this directory are corrected by human.
        <br>The following columns are added : <code>G55; FIRST55; LAST55; HOUR55; DATE55; PLACE55; NOTES55; PRO55</code>
        <br>They are filled when cura data differ from Gauquelin book.
        <br>This step is easier when 2 persons are involved : one reading the book, the other correcting the file.
    </li>
    
    <li>
        <b>Generate 1955 groups</b> (by program) - not yet implemented
        <br>
    </li>
    
    
</ol>
    
</article> 



