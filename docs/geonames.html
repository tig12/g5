<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Geonames | Gauquelin5</title>
    <link href="static/gauquelin5.css" rel="stylesheet" type="text/css">
    <meta name="description" content="Using geonames.org to relate Gauquelin data to a standard geographic frame">
    <meta name="robots" content="index,follow">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.rights" content="Creative commons by-sa 4.0">
    <meta name="dcterms.rightsHolder" content="Thierry Graff">
    <meta name="dcterms.dateCopyrighted" content="2018">
    <!-- 
    tigsite:
        history: 2018, Thierry Graff : Creation
    -->
</head>

<body>
<div class="container">

<div class="main">

<nav class="prevnext">
    <a class="top" href="index.html">&uarr;</a>
    <!-- 
    <a class="prev" rel="prev" href=".html">&larr;</a>
    <a class="next" rel="next" href=".html">&rarr;</a>
    -->
</nav>

<header>
<h1>Integrating geonames.org</h1>
<div class="intro"></div>
</header>

<article>
Geonames is used to relate places to a geonames.org id, which permits to compute longitude and latitude.
<br>In some files (like E1 and E3), timezone information is missing. The program tries to associate the names of cities to places of geonames, to compute timezone.
<br>
<br>To do this, the program needs to have geonames data stored in a postgres database, as done by the program located at <a href="https://github.com/tig12/geonames2postgres">github.com/tig12/geonames2postgres</a>.  

To do this, you need to :
<ul>
    <li>
        have postgres installed on your machine,
    </li>
    <li>
        in <code>config.yml</code>, put the correct values in the <code>postgresql</code> section,
    </li>
    <li>
        in <code>config.yml</code>, enable this feature ; replace <code>false</code> by <code>true</code> in order to have :
        <pre>geonames: true</pre>
    </li>
    <li>
        run <code>geonames2postgres.py</code> for all the countries containing birth dates.
        <br>Gauquelin data needs :
        <pre>
python geonames2postgres.py BE
python geonames2postgres.py DE
python geonames2postgres.py DZ
python geonames2postgres.py FR
python geonames2postgres.py IT
python geonames2postgres.py LU
python geonames2postgres.py MA
python geonames2postgres.py NL
python geonames2postgres.py US
        </pre>
    </li>
</ul>

</article>
</div><!-- end class="main" -->


<!-- ************************************* -->
<aside class="left">
<ul>
    <li class="bold"><a href="index.html">Gauquelin5 home</a></li>
    <li><a href="why.html">Why ?</a></li>
    <li class="bold"><a href="summary-chart.html">Summary chart</a></li>
    <li class="bold"><a href="output-format.html">Output format</a></li>
    <li><a href="0-from-scratch.html">0 - From scratch</a></li>
    <li>
        <a href="1-cura-data.html">1 - Cura data</a>
    </li>
    <li>
        <a href="2-cura2csv.html">2 - Cura to csv</a>
        <div class="padding-left">
            <a href="2-serieA.html">A</a>
            <a href="2-cura2csv.html#serie-d6">D6</a>
            <a href="2-cura2csv.html#serie-d10">D10</a>
            <a href="2-serieE1-E3.html">E1 E3</a>
        </div>
    </li>
    <li>
        <a href="3-mark.html">3 - Mark data</a>
    </li>
    <li>
        <a href="4-corrections-g55.html">4 - Corrections from G1955</a>
    </li>
    <li>
        9 - Results
        <ul>
            <li><a href="9-gauquelin-orig.html">G 1955 original</a></li>
            <li><a href="9-gauquelin-corr.html">G 1955 corrected</a></li>
            <li>
                <a href="9-cura-corr.html">Cura corrected</a>
                <div class="padding-left">
                    <a href="9-cura-corr.html#serie-a">A</a>
                    <a href="9-cura-corr.html#serie-d6">D6</a>
                    <a href="9-cura-corr.html#serie-d10">D10</a>
                    <a href="9-cura-corr.html#serie-e1-e3">E1 E3</a>
                </div>
            </li>
        </ul>
    <li class="bold"><a href="download.html">Download results</a></li>
    </li>
    <li><a href="geonames.html">Geonames.org</a></li>
    <li><a href="questions.html">Questions</a></li>
    <li class="bold"><a href="https://github.com/tig12/gauquelin5">Github repo</a></li>
</ul>
</aside>

</div><!-- end class="container" -->

</body>
</html>
<!-- ************************************* -->
<!-- ********************************************************************************* -->
